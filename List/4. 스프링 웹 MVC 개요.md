# 스프링 웹 MVC 개요

## 들어가며

### 마이크로 서비스 아키텍처

- 독립된 여러 개의 컴포넌트 시스템으로 구성됨.
- 각 컴포넌트는 독립된 데이터 저장소를 보유.
- 이상적 아키텍처: 하나의 컴포넌트가 하나의 기능 처리.
- 현실적 상황: 여러 컴포넌트의 데이터와 기능이 조합되어야 함.
    - 이때 API 인터페이스가 필요하다

### API 인터페이스

- API는 다양한 형태로 제공됨.
- grpc, avro 등 다양한 인터페이스 개발 가능.
- 가장 대표적인 형태: HTTP 기반의 REST API.
- REST API는 JSON 형식 사용, 개발 용이.

### 스프링 웹 MVC 프레임워크

- 스프링 웹 MVC의 내부 동작에 대한 설명.
- 프레임워크에서 제공하는 컴포넌트와 스프링 빈에 대한 정보.

## HTTP 프로토콜

### HTTP 메서드

- **GET**
    - 서버로부터 정보를 조회하기 위해 사용됩니다.
    - 데이터를 URL의 파라미터로 전달합니다.
- **POST**
    - 서버로 리소스를 전송하기 위해 사용됩니다.
    - 주로 데이터 생성 및 수정에 사용되며, 데이터는 HTTP 메시지의 바디에 포함됩니다.
- **PUT**
    - 서버의 리소스를 갱신하거나 생성하기 위해 사용됩니다.
    - 목적 리소스가 이미 존재한다면 갱신되고, 존재하지 않으면 새로 생성됩니다.

## HTTP 구성 요소

### HTTP 요청 메시지 (Request Message)

1. 시작 라인 (Start Line)

- **메서드(Method)**: HTTP 메서드를 나타냅니다. (예: GET, POST, PUT, DELETE 등)
- **요청 URI(Request URI)**: 자원의 위치나 이름을 나타내는 URL 또는 URI입니다.
- **HTTP 버전(Version)**: 사용 중인 HTTP 프로토콜의 버전을 나타냅니다. (예: HTTP/1.1)

2. 헤더 (Headers)

- 메시지 바디와 리소스에 대한 추가 정보를 제공하는 키-값 쌍입니다.
- 예: `Host: www.example.com`, `User-Agent: Mozilla/5.0`, `Content-Type: application/json` 등

3. 빈 줄 (Empty Line)

- 헤더와 바디 사이에 위치하는 빈 줄로, 헤더의 끝을 나타냅니다.

4. 메시지 바디 (Message Body)

- POST나 PUT 같은 요청에서 전송되는 데이터를 포함합니다.
- 요청에 따라 바디가 없을 수도 있습니다.

### HTTP 응답 메시지 (Response Message)

1. 시작 라인 (Start Line)

- **HTTP 버전(Version)**: 사용 중인 HTTP 프로토콜의 버전입니다.
- **상태 코드(Status Code)**: 응답의 상태를 나타내는 3자리 숫자 코드입니다. (예: 200, 404, 500 등)
- **상태 텍스트(Status Text)**: 상태 코드의 간략한 설명입니다. (예: OK, Not Found, Internal Server Error 등)

2. 헤더 (Headers)

- 메시지 바디와 리소스에 대한 추가 정보를 제공하는 키-값 쌍입니다.
- 예: `Date: Tue, 15 Nov 2022 08:12:31 GMT`, `Server: Apache`, `Content-Length: 12345` 등

3. 빈 줄 (Empty Line)

- 헤더와 바디 사이에 위치하는 빈 줄로, 헤더의 끝을 나타냅니다.

4. 메시지 바디 (Message Body)

- 응답 데이터를 포함합니다. 이는 HTML 문서, 이미지, JSON 데이터 등 다양한 형식을 가질 수 있습니다.

### HTTP 상태 코드

HTTP 응답 메시지의 상태 라인은 HTTP 프로토콜 버전과 상태 코드를 포함한다. 상태 코드는 응답 메시지 상태를 의미한다. 예를들어 ‘HTTP 1.1 200 OK’에서 1.1은 프로토콜 버전이며, 서버는 일반적으로 요청 메시지 버전에 맞는 버전으로 응답한다.

- **1xx (정보 응답)**
    - 정보 제공을 위한 상태 코드.
    - 예: 100 Continue.
- **2xx (성공)**
    - 요청이 성공적으로 수행됨을 나타내는 상태 코드.
    - 예: 200 OK, 201 Created.
- **3xx (리다이렉션)**
    - 클라이언트가 추가적인 동작을 수행해야 할 경우 사용되는 상태 코드.
    - 예: 302 Found, 304 Not Modified.
- **4xx (클라이언트 오류)**
    - 클라이언트의 요청에 오류가 있는 경우 사용되는 상태 코드.
    - 예: 400 Bad Request, 404 Not Found.
- **5xx (서버 오류)**
    - 서버 측에서 요청을 처리할 수 없는 경우 발생하는 상태 코드.
    - 예: 500 Internal Server Error, 502 Bad Gateway.

## 스프링 웹 MVC 프레임워크

## REST-API 설계

## 간단한 REST-API 예제
